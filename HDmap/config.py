import math
import numpy as np

class IONIQ5Config:

    ## IONIQ FOV60
    K_Front60 = np.array([[2.01307901e+03, 0.00000000e+00, 1.00325058e+03], 
                            [0.00000000e+00, 2.00652160e+03, 5.93024593e+02],
                            [0.00000000e+00, 0.00000000e+00, 1.00000000e+00]])

    D_Front60 = np.array([-0.37001482, 0.4684665, -0.00749647, -0.00681344, -0.68205982])
    save_path = 'output'

    MM_TO_M = 1 / 1000
    ## original camera pose
    # camera_pose_VC = np.array([1911.40 * MM_TO_M, 0, 953.23 * MM_TO_M,
    #                         np.deg2rad(2), np.deg2rad(90+14+12.5), np.deg2rad(5+11)]) 

    ## original camera pose (real: without 11 deg in yaw)
    camera_pose_VC = np.array([1911.40 * MM_TO_M, 0, 953.23 * MM_TO_M,
                            np.deg2rad(2), np.deg2rad(90+14+12.5), np.deg2rad(5+8)]) 

    # camera_pose_VC = np.array([-1.361207848233048,0.0708461102686491,0.9851023372328209,2.6206688455606777,1.1202286421858991,2.87918127543683])

    ## optimized camera pose
    # camera_pose_VC = np.array([1911.40 * MM_TO_M, 360 * MM_TO_M, 926 * MM_TO_M,
    #                         np.deg2rad(2.013), np.deg2rad(116.780336), np.deg2rad(16.059)])


    # optimized camera pose without scale
    camera_pose_VC = np.array([1.91179356, 0.36, 0.92600463, -3.10615971, 1.10340577, -2.86078651], dtype=np.float64)

    # optimized camera pose with scale
    camera_pose_VC = np.array([1.9113590735392427,0.35566269236774434,0.9155145314818434,-3.0885146444070024,1.155553483703088,-2.7990369378066107,1.345330759484532], dtype=np.float64)
    # camera_pose_VC = np.array([1.473986461673395,-2.1715124822026706,1.092664789713062,
    #                            -0.5471145493313568, 0.130316938417665, -0.8210184717525473, -0.09803996385405625,
    #                             1.3868553527506928], dtype=np.float64)


    # camera_pose_VC = np.array([1.4739862715241547,-2.1714849062023336,1.0929500631835563,-0.5448881759782245,0.13373679952015222,-0.8210164076112229,-0.09357941414131286,1.3753968905690273], dtype=np.float64)

    # cost 1800
    # camera_pose_VC = np.array([1.4024750928880627,-1.3787946532931041,2.322118923108018,
    #                             -0.6346098452615391,0.17285771668230665,-0.8262251648395025,-0.13528516783139502,
    #                             1.5631924718369097], dtype=np.float64)
    # # cost 1700
    camera_pose_VC = np.array([1.4024750867588593,-1.3787946948125915,2.322165352035766,
                                -0.6346992819982349,0.17284869558933247,-0.8262577897094292,-0.13530715358603537,
                                1.5631994449665012], dtype=np.float64)

    # # 0425 success
    camera_pose_VC = np.array([-0.26819122244461985,-1.2084772606897707,1.528680779246034,
    -0.7543231947219615,0.20731475210639444,-0.4721577591808612,-0.43811829590405865,
    5.282859760286935], dtype=np.float64)


    # with resize...
    camera_pose_VC = np.array([-0.26819122, 2.64431231, 3.38780952,-0.40805716, 0.07437188,-0.80958313,-0.03831385, 1.])

    # set new camera_pose_VC with this data, in format: [-0.13969646  0.84218374  1.75632662 -0.31009525  0.20517805 -0.75506186  0.0067228   1.90220314]
    camera_pose_VC = np.array([-0.13969646,  0.84218374,  1.75632662, -0.31009525,  0.20517805, -0.75506186,  0.0067228 ,  1.90220314])

    # 0510 adjust some
    camera_pose_VC = np.array([1911.40 * MM_TO_M, 0, 953.23 * MM_TO_M,
                                0.4980973490458729, -0.07547908730517332, 0.8627299156628209, 0.04357787137382909,
                                2.3])



    ins_height = 633.79 * MM_TO_M

    ## Image size

    IMG_W, IMG_H = 1280, 720
    # IMG_W, IMG_H = 1920, 1080

    plt_pose_IMG = np.array([IMG_H//2, IMG_W//2, 0, 0, np.deg2rad(180), np.deg2rad(-90)]) 

    # cv_pose_IMG = np.array([IMG_H//2, IMG_W//2, 0, np.deg2rad(180), np.deg2rad(180), np.deg2rad(0)]) 
    cv_pose_IMG = np.array([IMG_H//2, IMG_W//2, 0, np.deg2rad(180), np.deg2rad(0), np.deg2rad(0)]) 

    base_lla = [37.3890294, 126.6487574, 12.651] 
    init_lla = [37.389059, 126.648787, 6.4]
    precision = '1.0'
    map_path = './data/maps/songdo'
    scene_path = './data/scenes'


    initial_vehicle_pose_WC = np.array([2.621263252100426, 3.2851581777834498, 0.39999861389485725, 0, 0, np.deg2rad(120)])
    test_scene_llas={'scen1': [37.395946364, 126.637618145, 13.659100372314455],
                    'scene2': [37.400976112, 126.632935096, 13.99969949951172],
                    'scene3': [37.402134501, 126.63204485799999, 14.002799215698243],
                    'base': [37.3890294, 126.6487574,6.0]}
